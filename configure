#! /bin/bash

conf_echo_pre="[CONFIG]"

echo "$conf_echo_pre Generating makefile.config..."

echo "# This file is automatically generated by configure. Do not edit!" > makefile.config

if [ ! -n "$CXX" ]
then
    CXX=c++
fi
echo "$conf_echo_pre   Finding C++ compiler... $CXX"

for lib in termcap dl
do
    if [ -n "`$CXX $CXXFLAGS -l$lib 2>&1 | grep "cannot find -l$lib"`" ]
    then
        inst=no
    else
        inst=yes
        echo "LIBS += -l$lib" >> makefile.config
    fi
    echo "$conf_echo_pre   Is lib$lib installed... $inst"
done

echo "$conf_echo_pre Successfully generated makefile.config."
